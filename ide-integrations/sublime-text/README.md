# Sublime Text Integration for Olympus-Coder

Integration package for Sublime Text editor with Olympus-Coder LLM.

## 🚀 Installation

### Method 1: Package Control (Recommended)

1. **Install Package Control** (if not already installed)
   - Open Command Palette (`Ctrl+Shift+P` / `Cmd+Shift+P`)
   - Type "Install Package Control" and press Enter

2. **Install Olympus Coder Package**
   - Copy the `OlympusCoder` folder to Sublime Text packages directory
   - Or use Package Control: "Add Repository" → point to this directory

### Method 2: Manual Installation

1. **Locate Packages Directory**
   - Sublime Text → Preferences → Browse Packages
   - Or `~/.config/sublime-text-3/Packages/` (Linux)
   - Or `~/Library/Application Support/Sublime Text 3/Packages/` (macOS)

2. **Copy Package**
   ```bash
   cp -r OlympusCoder /path/to/sublime/packages/
   ```

## ⌨️ Default Key Bindings

- `Ctrl+Alt+G` - Generate code
- `Ctrl+Alt+D` - Debug code
- `Ctrl+Alt+E` - Explain selection
- `Ctrl+Alt+R` - Refactor selection
- `Ctrl+Alt+T` - Generate tests
- `Ctrl+Alt+C` - Chat with AI

## 🔧 Configuration

### Package Settings

1. **Open Settings**
   - Preferences → Package Settings → Olympus Coder → Settings

2. **Configure Options**
   ```json
   {
     "ollama_url": "http://localhost:11434",
     "model_name": "olympus-coder-v1:latest",
     "temperature": 0.1,
     "max_tokens": 2048,
     "auto_save": true,
     "show_progress": true,
     "context_lines": 50,
     "timeout": 30
   }
   ```

### Custom Key Bindings

1. **Open Key Bindings**
   - Preferences → Package Settings → Olympus Coder → Key Bindings

2. **Customize Shortcuts**
   ```json
   [
     {
       "keys": ["ctrl+shift+g"],
       "command": "olympus_generate_code"
     },
     {
       "keys": ["ctrl+shift+d"],
       "command": "olympus_debug_code"
     }
   ]
   ```

## 📁 Package Structure

```
OlympusCoder/
├── Main.sublime-menu          # Menu items
├── Default.sublime-keymap     # Key bindings
├── OlympusCoder.sublime-settings  # Default settings
├── olympus_coder.py          # Main plugin code
├── olympus_api.py            # API client
├── olympus_utils.py          # Utility functions
└── README.md                 # This file
```

## 🎯 Commands

### Command Palette Commands

- `Olympus Coder: Generate Code`
- `Olympus Coder: Debug Current File`
- `Olympus Coder: Explain Selection`
- `Olympus Coder: Refactor Selection`
- `Olympus Coder: Generate Tests`
- `Olympus Coder: Chat with AI`
- `Olympus Coder: Health Check`

### Context Menu

Right-click in editor:
- Olympus Coder → Generate Code
- Olympus Coder → Explain This
- Olympus Coder → Refactor This
- Olympus Coder → Debug This

## 🎨 Features

### Code Generation
- Context-aware completions
- Multi-language support
- Automatic formatting
- Error handling

### Visual Feedback
- Progress indicators
- Status bar updates
- Output panels
- Syntax highlighting

### Project Integration
- Automatic project detection
- File context analysis
- Import validation
- Architecture understanding

## 🔧 Advanced Configuration

### Syntax-Specific Settings

Create files like `Python.sublime-settings`:
```json
{
  "olympus_coder": {
    "temperature": 0.05,
    "style_guide": "PEP 8",
    "include_docstrings": true,
    "max_line_length": 79
  }
}
```

### Custom Snippets

Create `.sublime-snippet` files:
```xml
<snippet>
  <content><![CDATA[
# Generated by Olympus Coder
${1:function_name}($2) -> $3:
    """$4"""
    $0
]]></content>
  <tabTrigger>ocfunc</tabTrigger>
  <scope>source.python</scope>
  <description>Olympus Coder Function Template</description>
</snippet>
```

### Build Systems

Create `OlympusCoder.sublime-build`:
```json
{
  "shell_cmd": "python3 -c \"import requests; print(requests.post('http://localhost:11434/api/generate', json={'model': 'olympus-coder-v1:latest', 'prompt': '$file_base_name'}).json()['response'])\"",
  "file_regex": "^[ ]*File \"(...*?)\", line ([0-9]*)",
  "name": "Olympus Coder Generate",
  "selector": "source.python"
}
```

## 🛠️ Plugin Development

### API Usage

```python
import sublime
import sublime_plugin
from .olympus_api import OlympusCoderAPI

class OlympusGenerateCommand(sublime_plugin.TextCommand):
    def run(self, edit):
        api = OlympusCoderAPI()
        
        # Get current context
        context = self.view.substr(sublime.Region(0, self.view.size()))
        
        # Generate code
        response = api.generate_code("Create a function", context)
        
        # Insert at cursor
        self.view.insert(edit, self.view.sel()[0].begin(), response)
```

### Event Handlers

```python
class OlympusEventListener(sublime_plugin.EventListener):
    def on_modified_async(self, view):
        # Auto-complete on typing
        if self.should_trigger_completion(view):
            self.trigger_completion(view)
    
    def on_post_save_async(self, view):
        # Auto-debug on save
        if self.should_auto_debug(view):
            view.run_command('olympus_debug_code')
```

## 🔧 Troubleshooting

### Common Issues

1. **Package not loading**
   - Check Console: View → Show Console
   - Look for Python errors
   - Verify package installation

2. **API connection errors**
   - Test Ollama: `curl http://localhost:11434/api/tags`
   - Check firewall settings
   - Verify model availability

3. **Slow performance**
   - Reduce `context_lines` setting
   - Lower `max_tokens` value
   - Use lightweight model config

### Debug Mode

Enable debug logging:
```json
{
  "debug": true,
  "log_level": "DEBUG"
}
```

View logs in Sublime Text Console.

## 📚 Examples

### Generate API Endpoint
1. Open Python file
2. Press `Ctrl+Alt+G`
3. Enter: "Create Flask API endpoint for user authentication"
4. Code appears at cursor

### Debug JavaScript
1. Select problematic code
2. Press `Ctrl+Alt+D`
3. Review analysis in output panel
4. Apply suggested fixes

### Explain Algorithm
1. Select complex function
2. Press `Ctrl+Alt+E`
3. Read explanation in new tab

## 🎨 Themes and UI

### Color Scheme Integration
```json
{
  "rules": [
    {
      "name": "Olympus Coder Generated",
      "scope": "comment.olympus.generated",
      "foreground": "#00ff00"
    }
  ]
}
```

### Status Bar Customization
```python
def update_status(self, message):
    self.view.set_status('olympus_coder', f'Olympus: {message}')
```

## 🔗 Integration with Other Packages

### LSP Integration
- Works alongside LSP servers
- Complements existing diagnostics
- Enhances code intelligence

### Git Integration
- Respects .gitignore
- Works with Git packages
- Commit message generation

### Project Management
- Integrates with project files
- Respects project settings
- Multi-root workspace support